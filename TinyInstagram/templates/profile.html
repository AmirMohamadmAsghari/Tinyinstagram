{% extends 'base.html' %}

{% block title %}User Profile{% endblock %}

{% block content %}
    <div class="container mx-auto py-8">
        <div class="max-w-md mx-auto bg-white shadow-lg rounded-lg overflow-hidden">
            <div class="px-6 py-4 bg-gray-700">
                <h2 class="text-2xl font-semibold text-white">User Profile: {{ profile.user.name }}</h2>
            </div>
            <div class="px-6 py-4">
                {% load static %}
                {% if profile.avatar %}
                    <img class="w-full h-32 object-cover rounded-lg" src="{{ profile.avatar.url }}" alt="Avatar">
                {% else %}
                    <!-- Provide a default avatar image if the user does not have one -->
                    <img class="w-full h-32 object-cover rounded-lg" src="{% static 'path/to/default_avatar.jpg' %}" alt="Avatar">
                {% endif %}
                <div class="mt-4">
                    <p class="text-gray-800 text-lg font-semibold">Bio:</p>
                    <p class="text-gray-600">{{ profile.bio }}</p>
                </div>
            </div>
            <div class="px-6 py-4 bg-gray-100 border-t border-gray-200">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <p class="text-gray-800 text-lg font-semibold">Followers:</p>
                        <p class="text-gray-600">{{ profile.followers }}</p>
                    </div>
                    <div>
                        <p class="text-gray-800 text-lg font-semibold">Following:</p>
                        <p class="text-gray-600">{{ profile.following }}</p>
                    </div>
                </div>
                 <div>
                    <p class="text-gray-800 text-lg font-semibold">Posts:</p>
                    <p class="text-gray-600">{{ profile.user.posts.count }}</p>
                </div>
            </div>
            <div class="px-6 py-4 bg-gray-100 border-t border-gray-200">
               <a href="{% url 'new_post' %}" class="bg-blue-500 text-white py-2 px-4 rounded-md">New Post</a>
            </div>
            <div class="px-6 py-4 bg-gray-100 border-t border-gray-200">
               <a href="{% url 'profile_edit' %}" class="bg-blue-500 text-white py-2 px-4 rounded-md">Edit Profile</a>
            </div>
            <div class="px-6 py-4 bg-gray-100 border-t border-gray-200">
               <a href="{% url 'logout' %}" class="bg-blue-500 text-white py-2 px-4 rounded-md">Logout</a>
            </div>
        </div>
    </div>
{% endblock %}